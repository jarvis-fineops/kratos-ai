Metadata-Version: 2.4
Name: kratos-ai
Version: 0.1.0
Summary: Self-Healing Kubernetes Intelligence - Learns, Predicts, Remediates
Author-email: FineOps Team <asheeshgupta999@gmail.com>
License: Apache-2.0
Project-URL: Homepage, https://github.com/fineops/kratos-ai
Project-URL: Documentation, https://github.com/fineops/kratos-ai#readme
Project-URL: Repository, https://github.com/fineops/kratos-ai.git
Project-URL: Issues, https://github.com/fineops/kratos-ai/issues
Keywords: kubernetes,self-healing,aiops,mlops,observability,remediation,prediction,machine-learning
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: System Administrators
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: System :: Monitoring
Classifier: Topic :: System :: Systems Administration
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: kubernetes>=28.1.0
Requires-Dist: fastapi>=0.109.0
Requires-Dist: uvicorn>=0.27.0
Requires-Dist: pydantic>=2.5.0
Requires-Dist: numpy>=1.24.0
Requires-Dist: prometheus-client>=0.19.0
Provides-Extra: dev
Requires-Dist: pytest>=7.4.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.23.0; extra == "dev"
Requires-Dist: pytest-cov>=4.1.0; extra == "dev"
Requires-Dist: ruff>=0.1.9; extra == "dev"
Requires-Dist: mypy>=1.8.0; extra == "dev"
Requires-Dist: black>=23.12.0; extra == "dev"
Provides-Extra: ml
Requires-Dist: scikit-learn>=1.3.0; extra == "ml"
Requires-Dist: pandas>=2.1.0; extra == "ml"
Dynamic: license-file

# ğŸ›¡ï¸ Kratos AI - Self-Healing Kubernetes Intelligence

[\![License: Apache 2.0](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE)
[\![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[\![Kubernetes](https://img.shields.io/badge/kubernetes-1.25+-326CE5.svg)](https://kubernetes.io/)

**Kratos AI** is an intelligent, self-healing Kubernetes operator that learns from every incident, predicts failures before they happen, and auto-remediates with full explainability.

> "The Kubernetes operator that gets smarter with every incident"

---

## ğŸ¯ Why Kratos AI?

Traditional K8s operators are **reactive** and **rule-based**. Kratos AI is different:

| Feature | Traditional Operators | Kratos AI |
|---------|----------------------|-----------|
| Response | Reactive (after failure) | **Predictive** (before failure) |
| Learning | Static rules | **Continuous learning** from incidents |
| Scaling | Fixed thresholds | **ML-based** dynamic optimization |
| Explanations | None | **Full reasoning chain** |
| Knowledge | Siloed | **Cross-cluster knowledge sharing** |

---

## ğŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Kratos AI Brain                                â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Predictor     â”‚  â”‚   Knowledge     â”‚  â”‚    Remediation          â”‚ â”‚
â”‚  â”‚   Engine        â”‚  â”‚   Base          â”‚  â”‚    Engine               â”‚ â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                         â”‚ â”‚
â”‚  â”‚ â€¢ Time Series   â”‚  â”‚ â€¢ Incident DB   â”‚  â”‚ â€¢ Action Library        â”‚ â”‚
â”‚  â”‚ â€¢ Anomaly Det   â”‚  â”‚ â€¢ Pattern Store â”‚  â”‚ â€¢ Safety Validator      â”‚ â”‚
â”‚  â”‚ â€¢ Failure Pred  â”‚  â”‚ â€¢ Runbooks      â”‚  â”‚ â€¢ Rollback Engine       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                    â”‚                         â”‚              â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Reasoning Engine (LLM-Powered)                  â”‚ â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â”‚   "Pod memory at 95% + similar pods crashed 3x last week          â”‚ â”‚
â”‚  â”‚    â†’ Preemptively scale before OOMKill"                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Kubernetes API  â”‚           â”‚   Metrics Server  â”‚
        â”‚   (Watch/Act)     â”‚           â”‚   (Prometheus)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ Key Features

### 1. ğŸ”® Predictive Intelligence
- **Time-series forecasting** for resource usage
- **Anomaly detection** using Isolation Forest + LSTM
- **Failure prediction** based on historical patterns
- Predicts OOMKills, CrashLoops, and node failures **before** they happen

### 2. ğŸ§  Continuous Learning
- Learns from **every incident** across your clusters
- Builds a **knowledge graph** of failure patterns
- Shares learnings across namespaces and clusters
- Gets smarter over time with reinforcement learning

### 3. ğŸ”§ Intelligent Remediation
- **70+ remediation actions** out of the box
- **Safety validation** before any action
- **Automatic rollback** if remediation fails
- **Dry-run mode** for testing

### 4. ğŸ“– Full Explainability
- Every action comes with a **reasoning chain**
- Human-readable explanations in logs
- **Audit trail** for compliance
- Export explanations to Slack, PagerDuty, etc.

---

## ğŸš€ Quick Start

### Installation

```bash
# Clone the repo
git clone https://github.com/yourusername/kratos-ai.git
cd kratos-ai

# Install dependencies
pip install -e .

# Deploy to Kubernetes
kubectl apply -f deploy/kratos-ai.yaml
```

### Basic Configuration

```yaml
apiVersion: kratos.ai/v1
kind: KratosConfig
metadata:
  name: default
spec:
  # Prediction settings
  prediction:
    enabled: true
    lookAheadMinutes: 30
    anomalyThreshold: 0.95
  
  # Learning settings  
  learning:
    enabled: true
    incidentRetentionDays: 90
    crossClusterLearning: true
  
  # Remediation settings
  remediation:
    mode: auto  # auto | semi-auto | dry-run
    maxActionsPerHour: 10
    requireApproval:
      - node-drain
      - deployment-rollback
  
  # Explainability
  explainability:
    detailLevel: full  # full | summary | minimal
    notifyChannels:
      - slack
      - pagerduty
```

---

## ğŸ§ª How It Works

### Phase 1: Observe & Learn

```python
# Kratos continuously observes cluster state
metrics = kratos.observe(
    pod_metrics=True,
    node_metrics=True,
    events=True,
    logs=True
)

# Builds knowledge from observations
knowledge = kratos.learn(metrics, historical_incidents)
```

### Phase 2: Predict

```python
# Predict failures before they happen
predictions = kratos.predict(
    horizon="30m",
    confidence_threshold=0.8
)

# Example prediction:
# {
#     "type": "OOMKill",
#     "target": "pod/api-server-abc123",
#     "probability": 0.92,
#     "eta": "12 minutes",
#     "evidence": ["memory_growth_rate", "similar_pod_history"]
# }
```

### Phase 3: Remediate with Explanation

```python
# Remediate with full reasoning
result = kratos.remediate(
    prediction,
    explain=True
)

# Explanation output:
# "Scaling pod/api-server from 512Mi to 1Gi memory because:
#  1. Current memory usage is 95% (488Mi/512Mi)
#  2. Memory growth rate is 5MB/min
#  3. Similar pods (api-server-*) experienced OOMKill 3 times
#     in the last 7 days with same pattern
#  4. Estimated time to OOMKill: 12 minutes
#  5. Recommended action: Increase memory limit by 100%
#  6. Risk assessment: LOW (no side effects expected)
#  7. Rollback plan: Revert to 512Mi if latency increases >50%"
```

---

## ğŸ“Š Metrics & Dashboards

Kratos AI exposes Prometheus metrics:

```
# Predictions made
kratos_predictions_total{type="oomkill",accuracy="correct"} 142

# Remediations performed
kratos_remediations_total{action="scale_memory",outcome="success"} 89

# Time saved (estimated)
kratos_incident_time_saved_seconds 432000

# Model accuracy
kratos_model_accuracy{model="failure_predictor"} 0.94
```

---

## ğŸ”’ Safety & Compliance

Kratos AI is built with safety as the #1 priority:

- **Blast radius limits** - max % of pods affected per action
- **Rate limiting** - max actions per time window
- **Approval gates** - require human approval for risky actions
- **Dry-run mode** - test without making changes
- **Automatic rollback** - undo failed remediations
- **Audit logging** - full trail for compliance

---

## ğŸ¤ Contributing

We welcome contributions\! See [CONTRIBUTING.md](docs/CONTRIBUTING.md) for guidelines.

### Development Setup

```bash
# Create virtual environment
python -m venv venv
source venv/bin/activate

# Install dev dependencies
pip install -e ".[dev]"

# Run tests
pytest tests/ -v

# Run linting
ruff check src/
```

---

## ğŸ“œ License

Apache License 2.0 - See [LICENSE](LICENSE) for details.

---

## ğŸŒŸ Star History

If Kratos AI helps you, please give us a star\! â­

---

**Built with â¤ï¸ for the Kubernetes community**
